<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ã‚·ãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆMonacoï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #111;
      color: #eee;
    }

    .app {
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: #111;
    }

    .top-bar {
      background: #1e1e1e;
      padding: 8px;
      border-bottom: 1px solid #333;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .top-bar-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .toolbar-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    select,
    button,
    input[type="text"] {
      font-size: 16px; /* ã‚¹ãƒãƒ›ã§å…¥åŠ›UIãŒå°ã•ããªã‚‰ãªã„ */
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #444;
      background: #222;
      color: #eee;
    }

    select:focus,
    button:focus,
    input[type="text"]:focus {
      outline: 2px solid #4e8cff;
      outline-offset: 1px;
    }

    button {
      cursor: pointer;
      white-space: nowrap;
    }

    button:active {
      transform: scale(0.97);
    }

    .toolbar-row-main {
      justify-content: space-between;
    }

    .toolbar-left,
    .toolbar-right {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
    }

    .toolbar-right {
      margin-left: auto;
    }

    .toolbar-row-save {
      justify-content: flex-start;
    }

    #filenameInput {
      min-width: 150px;
      max-width: 220px;
    }

    .editor-wrapper {
      flex: 1 1 auto;
      min-height: 0;
    }

    #editor {
      width: 100%;
      height: 100%;
    }

    .footer {
      padding: 4px 8px;
      font-size: 12px;
      color: #aaa;
      background: #111;
      border-top: 1px solid #333;
      text-align: center;
    }

    /* â˜… Monaco ã®è¡Œé–“ã‚’å¼·åˆ¶çš„ã«è©°ã‚ã‚‹ï¼ˆwrapæ™‚ã®ã‚ªãƒ¼ãƒãƒ¼ã‚’æŠ‘ãˆã‚‹ï¼‰ */
    .monaco-editor .view-lines {
      line-height: 1.3 !important;
    }

    /* ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¹ãƒãƒ›å‘ã‘ã‚³ãƒ”ãƒ¼ãƒ»ç·¨é›†ç”¨ï¼‰ */
    .mobile-edit-panel {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;              /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆéè¡¨ç¤º */
      flex-direction: column;
      z-index: 999;
      padding: 8px;
    }

    .mobile-edit-header {
      display: flex;
      gap: 8px;
      margin-bottom: 6px;
    }

    .mobile-edit-header button {
      flex: 1;
      font-size: 14px;
      padding: 8px;
    }

    #mobileTextarea {
      flex: 1;
      width: 100%;
      border-radius: 8px;
      border: 1px solid #444;
      background: #111;
      color: #eee;
      padding: 8px;
      font-size: 15px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      resize: none;
    }

    .mobile-edit-hint {
      font-size: 12px;
      color: #ccc;
      margin-top: 4px;
      text-align: center;
    }

    /* PCå‘ã‘ã«å°‘ã—ã ã‘æœ€é©åŒ– */
    @media (min-width: 900px) {
      .top-bar {
        padding: 8px 12px;
      }
      .top-bar-title {
        font-size: 17px;
      }
      select,
      button,
      input[type="text"] {
        font-size: 14px;
        padding: 6px 10px;
      }
      .toolbar-row-main {
        flex-wrap: nowrap;
      }
    }
    /* â˜… ãƒ¢ãƒã‚¤ãƒ«ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ãƒ‘ãƒãƒ«ã§é¸æŠçŠ¶æ…‹ã‚’ã¯ã£ãã‚Šåè»¢è¡¨ç¤ºã™ã‚‹ */
#mobileTextarea::selection {
  background: #4e8cff !important;
  color: #ffffff !important;
}
#mobileTextarea::-moz-selection {
  background: #4e8cff !important;
  color: #ffffff !important;
}

  </style>
</head>
<body>
  <div class="app">
    <header class="top-bar">
      <div class="top-bar-title">ã‚·ãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆMonacoï¼‰</div>

      <!-- 1è¡Œç›®ï¼šè¨€èªãƒ»ãƒ†ãƒ¼ãƒãƒ»æ¤œç´¢ç³»ï¼‹ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ -->
      <div class="toolbar-row toolbar-row-main">
        <div class="toolbar-left">
          <label for="languageSelect" style="font-size: 13px;">è¨€èª:</label>
          <select id="languageSelect">
            <option value="javascript">JavaScript</option>
            <option value="html">HTML</option>
            <option value="css">CSS</option>
            <option value="json">JSON</option>
            <option value="lua">Lua</option>
            <option value="python">Python</option>
            <option value="plaintext">ãƒ†ã‚­ã‚¹ãƒˆ</option>
          </select>
          <button id="themeToggleBtn" type="button">ğŸŒ™ ãƒ€ãƒ¼ã‚¯</button>
        </div>
        <div class="toolbar-right">
          <button id="findBtn" type="button">ğŸ” æ¤œç´¢</button>
          <button id="replaceBtn" type="button">ğŸ”„ ç½®æ›</button>
          <button id="wrapToggleBtn" type="button">â†© æŠ˜ã‚Šè¿”ã—: ON</button>
          <button id="mobileEditBtn" type="button">ğŸ“‹ ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†</button>
        </div>
      </div>

      <!-- 2è¡Œç›®ï¼šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ã -->
      <div class="toolbar-row toolbar-row-save">
        <input
          id="filenameInput"
          type="text"
          placeholder="ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆä¾‹: script.jsï¼‰"
        />
        <button id="downloadBtn" type="button">ğŸ’¾ ä¿å­˜</button>
        <button id="openBtn" type="button">ğŸ“‚ é–‹ã</button>
        <!-- å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ inputï¼ˆéš ã™ï¼‰ -->
        <input
          id="fileInput"
          type="file"
          accept=".js,.ts,.jsx,.tsx,.html,.htm,.css,.json,.lua,.py,.txt,text/*"
          style="display:none"
        />
      </div>
    </header>

    <main class="editor-wrapper">
      <div id="editor"></div>
    </main>

    <footer class="footer">
      ä¿å­˜/é–‹ãï¼‹æ¤œç´¢/ç½®æ›ï¼‹æŠ˜ã‚Šè¿”ã—ã¯ä¸Šéƒ¨ãƒœã‚¿ãƒ³ã‹ã‚‰ã€‚<br>
      ã‚¹ãƒãƒ›ã§é•·æŠ¼ã—é¸æŠãƒ»ã‚³ãƒ”ãƒ¼ã—ãŸã„ã¨ãã¯ã€ŒğŸ“‹ ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ã€ã‚’ä½¿ã†ã¨ãƒã‚¤ãƒ†ã‚£ãƒ–é¸æŠãŒä½¿ãˆã¾ã™ã€‚
    </footer>
  </div>

  <!-- ã‚¹ãƒãƒ›å‘ã‘ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰ -->
  <div id="mobilePanel" class="mobile-edit-panel">
    <div class="mobile-edit-header">
      <button id="mobileCancelBtn" type="button">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
      <button id="mobileApplyBtn" type="button">ã‚¨ãƒ‡ã‚£ã‚¿ã¸åæ˜ ã—ã¦é–‰ã˜ã‚‹</button>
    </div>
    <textarea id="mobileTextarea" spellcheck="false"></textarea>
    <div class="mobile-edit-hint">
      ã‚¹ãƒãƒ›ã§ã¯ã“ã“ã‚’é•·æŠ¼ã—ã™ã‚‹ã¨ç¯„å›²é¸æŠãƒ»ã‚³ãƒ”ãƒ¼ãƒ»ãƒšãƒ¼ã‚¹ãƒˆãŒä½¿ãˆã¾ã™ã€‚
    </div>
  </div>

  <!-- Monaco Editor ãƒ­ãƒ¼ãƒ€ãƒ¼ (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.51.0/min/vs/loader.min.js"></script>
  <!-- Lua ã‚µãƒãƒ¼ãƒˆç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ -->
  <script src="https://unpkg.com/monaco-lua/dist/monaco-lua.js"></script>
  <!-- ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ -->
  <script src="main.js"></script>
</body>
</html>
